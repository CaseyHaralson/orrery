$schema: http://json-schema.org/draft-07/schema#
type: object
title: Report Schema
description: Schema for execution reports produced after Execute/Verify phases

properties:
  step_id:
    type: string
    description: ID of the step this report is for

  outcome:
    type: string
    enum:
      - success
      - failure
      - partial
      - blocked
    description: Overall outcome of the execution

  details:
    type: string
    description: Detailed description of what was accomplished

  artifacts:
    type: array
    description: List of artifacts produced or modified
    items:
      type: object
      properties:
        file:
          type: string
          description: File path
        status:
          type: string
          enum:
            - created
            - modified
            - deleted
          description: What happened to the file
        test:
          type: string
          description: Test name
        result:
          type: string
          description: Test result

  timestamp:
    type: string
    format: date-time
    description: When the report was generated

  metadata:
    type: object
    description: Additional metadata about the execution

  errors:
    type: array
    description: Any errors encountered during execution
    items:
      type: object
      properties:
        message:
          type: string
        code:
          type: string
        stack:
          type: string

required:
  - outcome
  - details
  - timestamp
