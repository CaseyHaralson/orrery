# Plan: Fix clone-agent-skills tool path and target directories

metadata:
  created_at: "2026-01-10T16:30:00Z"
  created_by: "Claude"
  version: "1.0"
  task: "Fix REPO_ROOT path and limit cloning to specific agent directories"

steps:
  - id: "1"
    description: "Modify tools/clone-agent-skills.js to fix path resolution and use hardcoded target directories"
    owner: "self"
    status: "complete"
    deps: []
    criteria: |
      - REPO_ROOT correctly points to repo root (one level up from tools/)
      - AGENT_DIRECTORIES constant defined with ['.claude', '.codex', '.gemini']
      - Script uses AGENT_DIRECTORIES instead of auto-discovery
      - findAgentDirectories() function removed (no longer needed)
      - Script filters to only clone to directories that exist
    files:
      - "tools/clone-agent-skills.js"
    risk_notes: "Ensure script still handles missing source directory gracefully"

  - id: "2"
    description: "Test the script to verify it works correctly from tools/ directory"
    owner: "self"
    status: "in_progress"
    deps: ["1"]
    criteria: |
      - Script runs without errors when executed from any location
      - Correctly finds agent/skills source directory
      - Only attempts to clone to specified directories that exist
      - Provides clear output about which directories it's cloning to
    commands:
      - "node tools/clone-agent-skills.js"
